[2025-09-02 10:42:26] INFO  com.example.userservice.app.Main - User Service started
[2025-09-02 10:42:43] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
[2025-09-02 10:42:43] WARN  org.hibernate.orm.deprecation - HHH90000012: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/hibernate-configuration. Use namespace http://www.hibernate.org/dtd/hibernate-configuration instead.  Support for obsolete DTD/XSD namespaces may be removed at any time.
[2025-09-02 10:42:43] INFO  org.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
[2025-09-02 10:42:44] WARN  org.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
[2025-09-02 10:42:44] INFO  org.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: org.postgresql.Driver
[2025-09-02 10:42:44] INFO  org.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:postgresql://localhost:5432/user_service]
[2025-09-02 10:42:44] INFO  org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, user=user_service_user}
[2025-09-02 10:42:44] INFO  org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[2025-09-02 10:42:44] INFO  org.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 20 (min=1)
[2025-09-02 10:42:44] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[2025-09-02 10:42:46] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[2025-09-02 10:42:46] INFO  org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@37b01ce2] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[2025-09-02 10:42:46] WARN  org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table users (
        id bigint generated by default as identity,
        age integer,
        created_at timestamp(6) not null,
        email varchar(150) not null,
        name varchar(100) not null,
        primary key (id)
    )" via JDBC [ОШИБКА: нет доступа к схеме public
  Позиция: 20]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table users (
        id bigint generated by default as identity,
        age integer,
        created_at timestamp(6) not null,
        email varchar(150) not null,
        name varchar(100) not null,
        primary key (id)
    )" via JDBC [ОШИБКА: нет доступа к схеме public
  Позиция: 20]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[user-service-1.0.0.jar:?]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:575) ~[user-service-1.0.0.jar:?]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:515) ~[user-service-1.0.0.jar:?]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:315) ~[user-service-1.0.0.jar:?]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80) ~[user-service-1.0.0.jar:?]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[user-service-1.0.0.jar:?]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[user-service-1.0.0.jar:?]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280) ~[user-service-1.0.0.jar:?]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[user-service-1.0.0.jar:?]
	at java.util.HashMap.forEach(HashMap.java:1429) [?:?]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) [user-service-1.0.0.jar:?]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) [user-service-1.0.0.jar:?]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) [user-service-1.0.0.jar:?]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322) [user-service-1.0.0.jar:?]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457) [user-service-1.0.0.jar:?]
	at com.example.userservice.util.HibernateUtil.<clinit>(HibernateUtil.java:24) [user-service-1.0.0.jar:?]
	at com.example.userservice.dao.UserDaoHibernate.create(UserDaoHibernate.java:21) [user-service-1.0.0.jar:?]
	at com.example.userservice.app.Main.create(Main.java:67) [user-service-1.0.0.jar:?]
	at com.example.userservice.app.Main.main(Main.java:26) [user-service-1.0.0.jar:?]
Caused by: org.postgresql.util.PSQLException: ОШИБКА: нет доступа к схеме public
  Позиция: 20
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733) ~[user-service-1.0.0.jar:?]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420) ~[user-service-1.0.0.jar:?]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372) ~[user-service-1.0.0.jar:?]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517) ~[user-service-1.0.0.jar:?]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434) ~[user-service-1.0.0.jar:?]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356) ~[user-service-1.0.0.jar:?]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341) ~[user-service-1.0.0.jar:?]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317) ~[user-service-1.0.0.jar:?]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312) ~[user-service-1.0.0.jar:?]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[user-service-1.0.0.jar:?]
	... 18 more
[2025-09-02 10:42:46] WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
[2025-09-02 10:42:46] WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper - отношение "users" не существует, пропускается
[2025-09-02 10:42:46] WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
[2025-09-02 10:42:46] WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper - отношение "users" не существует, пропускается
[2025-09-02 10:42:46] WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 42P01
[2025-09-02 10:42:46] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - ОШИБКА: отношение "users" не существует
  Позиция: 13
[2025-09-02 10:44:31] WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 42P01
[2025-09-02 10:44:31] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - ОШИБКА: отношение "users" не существует
  Позиция: 13
[2025-09-02 10:45:03] INFO  com.example.userservice.app.Main - User Service stopped
[2025-09-02 10:45:03] INFO  com.example.userservice.util.HibernateUtil - Shutting down SessionFactory
[2025-09-02 10:45:07] INFO  com.example.userservice.app.Main - User Service started
[2025-09-02 10:45:17] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
[2025-09-02 10:45:17] WARN  org.hibernate.orm.deprecation - HHH90000012: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/hibernate-configuration. Use namespace http://www.hibernate.org/dtd/hibernate-configuration instead.  Support for obsolete DTD/XSD namespaces may be removed at any time.
[2025-09-02 10:45:17] INFO  org.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
[2025-09-02 10:45:18] WARN  org.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
[2025-09-02 10:45:18] INFO  org.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: org.postgresql.Driver
[2025-09-02 10:45:18] INFO  org.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:postgresql://localhost:5432/user_service]
[2025-09-02 10:45:18] INFO  org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, user=user_service_user}
[2025-09-02 10:45:18] INFO  org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[2025-09-02 10:45:18] INFO  org.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 20 (min=1)
[2025-09-02 10:45:18] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[2025-09-02 10:45:20] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[2025-09-02 10:45:20] INFO  org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@17216605] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[2025-09-02 10:45:20] WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
[2025-09-02 10:45:20] WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper - ограничение "uk_users_email" в таблице "users" не существует, пропускается
[2025-09-02 10:45:20] INFO  com.example.userservice.dao.UserDaoHibernate - Created user id=1
[2025-09-02 18:07:41] INFO  com.example.userservice.app.Main - User Service stopped
[2025-09-02 18:07:42] INFO  com.example.userservice.util.HibernateUtil - Shutting down SessionFactory
[2025-09-02 18:22:03] INFO  org.testcontainers.images.PullPolicy - Image pull policy will be performed by: DefaultPullPolicy()
[2025-09-02 18:22:03] INFO  org.testcontainers.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
[2025-09-02 18:22:03] INFO  org.testcontainers.DockerClientFactory - Testcontainers version: 1.20.2
[2025-09-02 18:22:04] INFO  org.testcontainers.dockerclient.DockerClientProviderStrategy - Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
[2025-09-02 18:22:04] INFO  org.testcontainers.DockerClientFactory - Docker host IP address is localhost
[2025-09-02 18:22:04] INFO  org.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 27.1.1
  API Version: 1.46
  Operating System: Docker Desktop
  Total Memory: 2818 MB
  Labels: 
    com.docker.desktop.address=npipe://\\.\pipe\docker_cli
[2025-09-02 18:22:05] INFO  tc.testcontainers/ryuk:0.9.0 - Pulling docker image: testcontainers/ryuk:0.9.0. Please be patient; this may take some time but only needs to be done once.
[2025-09-02 18:22:08] INFO  org.testcontainers.utility.RegistryAuthLocator - Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
[2025-09-02 18:22:13] INFO  tc.testcontainers/ryuk:0.9.0 - Starting to pull image
[2025-09-02 18:22:13] INFO  tc.testcontainers/ryuk:0.9.0 - Pulling image layers:  0 pending,  0 downloaded,  0 extracted, (0 bytes/0 bytes)
[2025-09-02 18:22:18] INFO  tc.testcontainers/ryuk:0.9.0 - Pulling image layers:  2 pending,  1 downloaded,  0 extracted, (2 MB/? MB)
[2025-09-02 18:22:27] INFO  tc.testcontainers/ryuk:0.9.0 - Pulling image layers:  1 pending,  2 downloaded,  0 extracted, (7 MB/? MB)
[2025-09-02 18:22:28] INFO  tc.testcontainers/ryuk:0.9.0 - Pulling image layers:  1 pending,  2 downloaded,  1 extracted, (7 MB/? MB)
[2025-09-02 18:22:29] INFO  tc.testcontainers/ryuk:0.9.0 - Pulling image layers:  1 pending,  2 downloaded,  2 extracted, (7 MB/? MB)
[2025-09-02 18:22:39] INFO  tc.testcontainers/ryuk:0.9.0 - Pulling image layers:  0 pending,  3 downloaded,  2 extracted, (11 MB/11 MB)
[2025-09-02 18:22:39] INFO  tc.testcontainers/ryuk:0.9.0 - Pulling image layers:  0 pending,  3 downloaded,  3 extracted, (11 MB/11 MB)
[2025-09-02 18:22:39] INFO  tc.testcontainers/ryuk:0.9.0 - Pull complete. 3 layers, pulled in 26s (downloaded 11 MB at 439 KB/s)
[2025-09-02 18:22:39] INFO  tc.testcontainers/ryuk:0.9.0 - Image testcontainers/ryuk:0.9.0 pull took PT34.1573323S
[2025-09-02 18:22:39] INFO  tc.testcontainers/ryuk:0.9.0 - Creating container for image: testcontainers/ryuk:0.9.0
[2025-09-02 18:22:40] INFO  tc.testcontainers/ryuk:0.9.0 - Container testcontainers/ryuk:0.9.0 is starting: 5e299437c764c3e5ba5665b8a02c200592529f3dbab62692775a941fd8b3b864
[2025-09-02 18:22:45] INFO  tc.testcontainers/ryuk:0.9.0 - Container testcontainers/ryuk:0.9.0 started in PT5.6467939S
[2025-09-02 18:22:45] INFO  org.testcontainers.utility.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
[2025-09-02 18:22:45] INFO  org.testcontainers.DockerClientFactory - Checking the system...
[2025-09-02 18:22:45] INFO  org.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
[2025-09-02 18:22:45] INFO  tc.postgres:15 - Pulling docker image: postgres:15. Please be patient; this may take some time but only needs to be done once.
[2025-09-02 18:23:02] INFO  tc.postgres:15 - Starting to pull image
[2025-09-02 18:23:02] INFO  tc.postgres:15 - Pulling image layers:  0 pending,  0 downloaded,  0 extracted, (0 bytes/0 bytes)
[2025-09-02 18:23:11] INFO  tc.postgres:15 - Pulling image layers: 13 pending,  1 downloaded,  0 extracted, (1 KB/? MB)
[2025-09-02 18:23:11] INFO  tc.postgres:15 - Pulling image layers: 13 pending,  1 downloaded,  1 extracted, (1 KB/? MB)
[2025-09-02 18:23:17] INFO  tc.postgres:15 - Pulling image layers: 12 pending,  2 downloaded,  1 extracted, (2 MB/? MB)
[2025-09-02 18:23:34] INFO  tc.postgres:15 - Pulling image layers: 11 pending,  3 downloaded,  1 extracted, (7 MB/? MB)
[2025-09-02 18:23:34] INFO  tc.postgres:15 - Pulling image layers: 11 pending,  3 downloaded,  2 extracted, (7 MB/? MB)
[2025-09-02 18:23:35] INFO  tc.postgres:15 - Pulling image layers: 11 pending,  3 downloaded,  3 extracted, (7 MB/? MB)
[2025-09-02 18:23:40] INFO  tc.postgres:15 - Pulling image layers: 10 pending,  4 downloaded,  3 extracted, (7 MB/? MB)
[2025-09-02 18:23:41] INFO  tc.postgres:15 - Pulling image layers:  9 pending,  5 downloaded,  3 extracted, (7 MB/? MB)
[2025-09-02 18:23:45] INFO  tc.postgres:15 - Pulling image layers:  8 pending,  6 downloaded,  3 extracted, (10 MB/? MB)
[2025-09-02 18:23:46] INFO  tc.postgres:15 - Pulling image layers:  7 pending,  7 downloaded,  3 extracted, (11 MB/? MB)
[2025-09-02 18:23:48] INFO  tc.postgres:15 - Pulling image layers:  6 pending,  8 downloaded,  3 extracted, (11 MB/? MB)
[2025-09-02 18:23:49] INFO  tc.postgres:15 - Pulling image layers:  5 pending,  9 downloaded,  3 extracted, (12 MB/? MB)
[2025-09-02 18:23:51] INFO  tc.postgres:15 - Pulling image layers:  4 pending, 10 downloaded,  3 extracted, (14 MB/? MB)
[2025-09-02 18:23:52] INFO  tc.postgres:15 - Pulling image layers:  3 pending, 11 downloaded,  3 extracted, (15 MB/? MB)
[2025-09-02 18:24:08] INFO  tc.postgres:15 - Pulling image layers:  2 pending, 12 downloaded,  3 extracted, (23 MB/? MB)
[2025-09-02 18:24:10] INFO  tc.postgres:15 - Pulling image layers:  2 pending, 12 downloaded,  4 extracted, (26 MB/? MB)
[2025-09-02 18:24:11] INFO  tc.postgres:15 - Pulling image layers:  2 pending, 12 downloaded,  5 extracted, (26 MB/? MB)
[2025-09-02 18:24:11] INFO  tc.postgres:15 - Pulling image layers:  2 pending, 12 downloaded,  6 extracted, (26 MB/? MB)
[2025-09-02 18:24:11] INFO  tc.postgres:15 - Pulling image layers:  2 pending, 12 downloaded,  7 extracted, (26 MB/? MB)
[2025-09-02 18:25:39] INFO  tc.postgres:15 - Pulling image layers:  1 pending, 13 downloaded,  7 extracted, (122 MB/? MB)
[2025-09-02 18:25:52] INFO  tc.postgres:15 - Pulling image layers:  1 pending, 13 downloaded,  8 extracted, (122 MB/? MB)
[2025-09-02 18:25:53] INFO  tc.postgres:15 - Pulling image layers:  1 pending, 13 downloaded,  9 extracted, (122 MB/? MB)
[2025-09-02 18:25:53] INFO  tc.postgres:15 - Pulling image layers:  1 pending, 13 downloaded, 10 extracted, (122 MB/? MB)
[2025-09-02 18:25:53] INFO  tc.postgres:15 - Pulling image layers:  1 pending, 13 downloaded, 11 extracted, (122 MB/? MB)
[2025-09-02 18:25:53] INFO  tc.postgres:15 - Pulling image layers:  1 pending, 13 downloaded, 12 extracted, (122 MB/? MB)
[2025-09-02 18:25:53] INFO  tc.postgres:15 - Pulling image layers:  1 pending, 13 downloaded, 13 extracted, (122 MB/? MB)
[2025-09-02 18:25:53] INFO  tc.postgres:15 - Pull complete. 14 layers, pulled in 171s (downloaded 122 MB at 733 KB/s)
[2025-09-02 18:25:53] INFO  tc.postgres:15 - Image postgres:15 pull took PT3M8.2137642S
[2025-09-02 18:25:53] INFO  tc.postgres:15 - Creating container for image: postgres:15
[2025-09-02 18:25:54] INFO  tc.postgres:15 - Container postgres:15 is starting: 103f76e4c7b6677893d414b3987751671979529e9d056aec882882ba4b0a5785
[2025-09-02 18:26:01] INFO  tc.postgres:15 - Container postgres:15 started in PT7.5020306S
[2025-09-02 18:26:01] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:52112/user_service?loggerLevel=OFF)
[2025-09-02 18:26:02] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
[2025-09-02 18:26:02] WARN  org.hibernate.orm.deprecation - HHH90000012: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/hibernate-configuration. Use namespace http://www.hibernate.org/dtd/hibernate-configuration instead.  Support for obsolete DTD/XSD namespaces may be removed at any time.
[2025-09-02 18:26:03] INFO  org.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
[2025-09-02 18:26:03] WARN  org.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
[2025-09-02 18:26:03] INFO  org.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: org.postgresql.Driver
[2025-09-02 18:26:03] INFO  org.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:postgresql://localhost:5432/user_service]
[2025-09-02 18:26:03] INFO  org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, user=user_service_user}
[2025-09-02 18:26:03] INFO  org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[2025-09-02 18:26:03] INFO  org.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 20 (min=1)
[2025-09-02 18:26:04] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[2025-09-02 18:26:10] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[2025-09-02 18:26:11] INFO  org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@47d4e28a] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[2025-09-02 18:26:27] INFO  com.example.userservice.dao.UserDaoHibernate - Created user id=1
[2025-09-02 18:26:28] INFO  com.example.userservice.dao.UserDaoHibernate - Deleted user id=1
[2025-09-02 18:26:28] INFO  com.example.userservice.dao.UserDaoHibernate - Created user id=1
[2025-09-02 18:26:28] INFO  com.example.userservice.dao.UserDaoHibernate - Created user id=1
[2025-09-02 18:26:28] WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
[2025-09-02 18:26:28] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - ОШИБКА: повторяющееся значение ключа нарушает ограничение уникальности "uk_users_email"
  Подробности: Ключ "(email)=(john@example.com)" уже существует.
[2025-09-02 18:26:29] INFO  com.example.userservice.dao.UserDaoHibernate - Created user id=1
[2025-09-02 18:26:29] INFO  com.example.userservice.dao.UserDaoHibernate - Created user id=2
[2025-09-02 18:26:29] WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
[2025-09-02 18:26:29] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - ОШИБКА: повторяющееся значение ключа нарушает ограничение уникальности "uk_users_email"
  Подробности: Ключ "(email)=(john@example.com)" уже существует.
[2025-09-02 18:26:29] INFO  com.example.userservice.dao.UserDaoHibernate - Created user id=1
[2025-09-02 18:26:29] INFO  com.example.userservice.dao.UserDaoHibernate - Updated user id=1
[2025-09-02 18:26:29] INFO  com.example.userservice.dao.UserDaoHibernate - Created user id=1
[2025-09-02 18:26:30] INFO  com.example.userservice.dao.UserDaoHibernate - Created user id=1
[2025-09-02 18:26:30] INFO  com.example.userservice.dao.UserDaoHibernate - Created user id=2
[2025-09-02 18:26:30] INFO  org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:postgresql://localhost:5432/user_service]
[2025-09-02 18:26:42] INFO  com.example.userservice.util.HibernateUtil - Shutting down SessionFactory
[2025-09-02 18:29:13] INFO  org.testcontainers.images.PullPolicy - Image pull policy will be performed by: DefaultPullPolicy()
[2025-09-02 18:29:13] INFO  org.testcontainers.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
[2025-09-02 18:29:14] INFO  org.testcontainers.DockerClientFactory - Testcontainers version: 1.20.2
[2025-09-02 18:29:14] INFO  org.testcontainers.dockerclient.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
[2025-09-02 18:29:15] INFO  org.testcontainers.dockerclient.DockerClientProviderStrategy - Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
[2025-09-02 18:29:15] INFO  org.testcontainers.DockerClientFactory - Docker host IP address is localhost
[2025-09-02 18:29:15] INFO  org.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 27.1.1
  API Version: 1.46
  Operating System: Docker Desktop
  Total Memory: 2818 MB
  Labels: 
    com.docker.desktop.address=npipe://\\.\pipe\docker_cli
[2025-09-02 18:29:15] INFO  tc.testcontainers/ryuk:0.9.0 - Creating container for image: testcontainers/ryuk:0.9.0
[2025-09-02 18:29:15] INFO  org.testcontainers.utility.RegistryAuthLocator - Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
[2025-09-02 18:29:16] INFO  tc.testcontainers/ryuk:0.9.0 - Container testcontainers/ryuk:0.9.0 is starting: 72216d8ff1c19b7eb868164e68e250fb0f82d8d04dd673d9a9949b3452b07a06
[2025-09-02 18:29:19] INFO  tc.testcontainers/ryuk:0.9.0 - Container testcontainers/ryuk:0.9.0 started in PT3.7816642S
[2025-09-02 18:29:19] INFO  org.testcontainers.utility.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
[2025-09-02 18:29:19] INFO  org.testcontainers.DockerClientFactory - Checking the system...
[2025-09-02 18:29:19] INFO  org.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
[2025-09-02 18:29:19] INFO  tc.postgres:15 - Creating container for image: postgres:15
[2025-09-02 18:29:19] INFO  tc.postgres:15 - Container postgres:15 is starting: 3a7daa50872c85f4dd6cb3baf8c1319300f6622b6d529cdf0fb49c0527931523
[2025-09-02 18:29:24] INFO  tc.postgres:15 - Container postgres:15 started in PT5.1414838S
[2025-09-02 18:29:24] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:52224/user_service?loggerLevel=OFF)
[2025-09-02 18:29:24] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.2.Final
[2025-09-02 18:29:24] WARN  org.hibernate.orm.deprecation - HHH90000012: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/hibernate-configuration. Use namespace http://www.hibernate.org/dtd/hibernate-configuration instead.  Support for obsolete DTD/XSD namespaces may be removed at any time.
[2025-09-02 18:29:25] INFO  org.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
[2025-09-02 18:29:25] WARN  org.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
[2025-09-02 18:29:25] INFO  org.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: org.postgresql.Driver
[2025-09-02 18:29:25] INFO  org.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:postgresql://localhost:5432/user_service]
[2025-09-02 18:29:25] INFO  org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, user=user_service_user}
[2025-09-02 18:29:25] INFO  org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[2025-09-02 18:29:25] INFO  org.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 20 (min=1)
[2025-09-02 18:29:25] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[2025-09-02 18:29:27] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[2025-09-02 18:29:27] INFO  org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@28295554] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[2025-09-02 18:29:28] INFO  com.example.userservice.dao.UserDaoHibernate - Created user id=1
[2025-09-02 18:29:28] INFO  com.example.userservice.dao.UserDaoHibernate - Deleted user id=1
[2025-09-02 18:29:28] INFO  com.example.userservice.dao.UserDaoHibernate - Created user id=1
[2025-09-02 18:29:28] INFO  com.example.userservice.dao.UserDaoHibernate - Created user id=1
[2025-09-02 18:29:28] WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
[2025-09-02 18:29:28] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - ОШИБКА: повторяющееся значение ключа нарушает ограничение уникальности "uk_users_email"
  Подробности: Ключ "(email)=(john@example.com)" уже существует.
[2025-09-02 18:29:28] INFO  com.example.userservice.dao.UserDaoHibernate - Created user id=1
[2025-09-02 18:29:28] INFO  com.example.userservice.dao.UserDaoHibernate - Created user id=2
[2025-09-02 18:29:28] WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
[2025-09-02 18:29:28] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - ОШИБКА: повторяющееся значение ключа нарушает ограничение уникальности "uk_users_email"
  Подробности: Ключ "(email)=(john@example.com)" уже существует.
[2025-09-02 18:29:28] INFO  com.example.userservice.dao.UserDaoHibernate - Created user id=1
[2025-09-02 18:29:28] INFO  com.example.userservice.dao.UserDaoHibernate - Updated user id=1
[2025-09-02 18:29:28] INFO  com.example.userservice.dao.UserDaoHibernate - Created user id=1
[2025-09-02 18:29:28] INFO  com.example.userservice.dao.UserDaoHibernate - Created user id=1
[2025-09-02 18:29:28] INFO  com.example.userservice.dao.UserDaoHibernate - Created user id=2
[2025-09-02 18:29:28] INFO  org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:postgresql://localhost:5432/user_service]
[2025-09-02 18:29:30] INFO  com.example.userservice.util.HibernateUtil - Shutting down SessionFactory
[2025-09-02 18:29:51] INFO  com.example.userservice.app.Main - User Service started
[2025-09-02 18:30:05] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
[2025-09-02 18:30:05] WARN  org.hibernate.orm.deprecation - HHH90000012: Recognized obsolete hibernate namespace http://hibernate.sourceforge.net/hibernate-configuration. Use namespace http://www.hibernate.org/dtd/hibernate-configuration instead.  Support for obsolete DTD/XSD namespaces may be removed at any time.
[2025-09-02 18:30:06] INFO  org.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
[2025-09-02 18:30:06] WARN  org.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
[2025-09-02 18:30:06] INFO  org.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: org.postgresql.Driver
[2025-09-02 18:30:06] INFO  org.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:postgresql://localhost:5432/user_service]
[2025-09-02 18:30:06] INFO  org.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, user=user_service_user}
[2025-09-02 18:30:06] INFO  org.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
[2025-09-02 18:30:06] INFO  org.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 20 (min=1)
[2025-09-02 18:30:07] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[2025-09-02 18:30:08] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[2025-09-02 18:30:08] INFO  org.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@55c1ced9] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[2025-09-02 18:30:09] INFO  com.example.userservice.dao.UserDaoHibernate - Created user id=3
[2025-09-02 18:30:38] INFO  com.example.userservice.dao.UserDaoHibernate - Updated user id=3
[2025-09-02 18:30:45] INFO  com.example.userservice.dao.UserDaoHibernate - Deleted user id=3
[2025-09-02 18:30:49] INFO  com.example.userservice.app.Main - User Service stopped
[2025-09-02 18:30:49] INFO  com.example.userservice.util.HibernateUtil - Shutting down SessionFactory
[2025-09-02 18:30:49] INFO  org.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:postgresql://localhost:5432/user_service]
